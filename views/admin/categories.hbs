<!DOCTYPE html>
<html lang="en">
<style>
  .profile-dropdown {
    display: inline-block;
    position: relative;
    background: #f2f2f2;
    margin-left: 6rem;
    font-weight: bold;
    font-size: 1.1rem;
    border-radius: 3px;
    width: 250px;
    height: 55px;
    -webkit-user-select: none;
    /* Chrome all / Safari all */
    -moz-user-select: none;
    /* Firefox all */
    -ms-user-select: none;
    /* IE 10+ */
    user-select: none;
    /* Likely future */
  }

  .profile-dropdown * {
    -webkit-user-select: none;
    /* Chrome all / Safari all */
    -moz-user-select: none;
    /* Firefox all */
    -ms-user-select: none;
    /* IE 10+ */
    user-select: none;
    /* Likely future */
  }

  .profile-dropdown input[type=checkbox] {
    display: none;
  }

  .profile-dropdown input[type=checkbox]:checked~ul {
    display: block;
    animation: pulse 0.5s;
  }

  .profile-dropdown input[type=checkbox]:checked~img {
    background: orange;
  }

  .profile-dropdown input[type=checkbox]:checked~label {
    background: orange;
  }

  .profile-dropdown input[type=checkbox]:checked~label i {
    color: #f2f2f2;
  }

  .profile-dropdown input[type=checkbox]:checked~label:after {
    content: "";
    position: absolute;
    top: 100%;
    right: calc(50% - 10px);
    display: block;
    border-style: solid;
    border-width: 7px 10px 0 10px;
    border-color: orange transparent transparent transparent;
    width: 0;
    height: 0;
  }

  .profile-dropdown img {
    display: inline-block;
    background: #d9d9d9;
    height: 2.5rem;
    vertical-align: middle;
    margin-right: 1rem;
    margin: 0.5rem 0.75rem 0.5rem 0.5rem;
    border-radius: 50%;
  }

  .profile-dropdown span {
    display: inline-block;
    vertical-align: sub;
    width: 125px;
    margin-right: 1rem;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  .profile-dropdown ul {
    display: none;
    list-style: none;
    padding: 0;
    margin: 0;
    background: #fff;
    position: absolute;
    top: 100%;
    right: 0;
    width: 100%;
    border-radius: 3px;
  }

  .profile-dropdown ul li a {
    display: block;
    padding: 0.75rem 1rem;
    text-decoration: none;
    color: #737373;
    font-size: 1rem;
  }

  .profile-dropdown ul li a i {
    font-size: 1.3rem;
    vertical-align: middle;
    margin: 0 0.75rem 0 -0.25rem;
  }

  .profile-dropdown ul li a:hover {
    background: #e5e5e5;
  }

  .profile-dropdown ul li:first-child a:hover {
    border-radius: 3px 3px 0 0;
  }

  .profile-dropdown ul li:last-child a:hover {
    border-radius: 0 0 3px 3px;
  }

  .profile-dropdown>label {
    position: relative;
    height: 3rem;
    display: block;
    text-decoration: none;
    background: transparent;
    color: #333;
    box-sizing: border-box;
    padding: 0.9rem;
    float: right;
    border-radius: 0 3px 3px 0;
  }

  .profile-dropdown>label i {
    color: #b2b2b2;
    font-size: 1.75rem;
  }

  .profile-dropdown:after {
    content: "";
    display: table;
    clear: both;
  }

  body {
    font-family: Arial, Helvetica, sans-serif;
  }
</style>

<style>
  .modal-confirm {
    color: #636363;
    width: 400px;
  }

  .modal-confirm .modal-content {
    padding: 20px;
    border-radius: 5px;
    border: none;
    text-align: center;
    font-size: 14px;
  }

  .modal-confirm .modal-header {
    border-bottom: none;
    position: relative;
  }

  .modal-confirm h4 {
    text-align: center;
    font-size: 26px;
    margin: 30px 0 -10px;
  }

  .modal-confirm .close {
    position: absolute;
    top: -5px;
    right: -2px;
  }

  .modal-confirm .modal-body {
    color: #999;
  }

  .modal-confirm .modal-footer {
    border: none;
    text-align: center;
    border-radius: 5px;
    font-size: 13px;
    padding: 10px 15px 25px;
  }

  .modal-confirm .modal-footer a {
    color: #999;
  }

  .modal-confirm .icon-box {
    width: 80px;
    height: 80px;
    margin: 0 auto;
    border-radius: 50%;
    z-index: 9;
    text-align: center;
    border: 3px solid #f15e5e;
  }

  .modal-confirm .icon-box i {
    color: #f15e5e;
    font-size: 46px;
    display: inline-block;
    margin-top: 13px;
  }

  .modal-confirm .btn,
  .modal-confirm .btn:active {
    color: #fff;
    border-radius: 4px;
    background: #60c7c1;
    text-decoration: none;
    transition: all 0.4s;
    line-height: normal;
    min-width: 120px;
    border: none;
    min-height: 40px;
    border-radius: 3px;
    margin: 0 5px;
  }

  .modal-confirm .btn-secondary {
    background: #c1c1c1;
  }

  .modal-confirm .btn-secondary:hover,
  .modal-confirm .btn-secondary:focus {
    background: #a8a8a8;
  }

  .modal-confirm .btn-danger {
    background: #f15e5e;
  }

  .modal-confirm .btn-danger:hover,
  .modal-confirm .btn-danger:focus {
    background: #ee3535;
  }

  .trigger-btn {
    display: inline-block;
    margin: 100px auto;
  }
</style>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="TemplateMo">
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&display=swap"
    rel="stylesheet">

  <title>Stand CSS Blog by TemplateMo</title>

  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="/assets/css/fontawesome.css">
  <link rel="stylesheet" href="/assets/css/templatemo-stand-blog.css">
  <link rel="stylesheet" href="/assets/css/owl.css">
  <!--

TemplateMo 551 Stand Blog

https://templatemo.com/tm-551-stand-blog

-->
</head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="preloader">
    <div class="jumper">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- Header -->
  <header class="">
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <div class="row">
          <div class="col-sm-10">
            <a class="navbar-brand" href="/admin/admin_home">
              <h2>s1mple<em>.</em></h2>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
              aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="/admin/admin_home">Home
                    <span class="sr-only">(current)</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/admin/blog">Blog Entries</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-sm-2">
            <label for="profile2" class="profile-dropdown">
              <input type="checkbox" id="profile2">
              <span style="text-align: center; margin-top: 5px;">ADMIN</span>
              <label for="profile2"><i class="mdi mdi-menu"></i></label>
              <ul>
                <li><a href="/admin/categories"><i class="mdi mdi-email-outline"></i>Categories</a></li>
                <li><a href="/admin/articleCensorship"><i class="mdi mdi-account"></i>Articles Censorship</a></li>

                <li><a href="/admin/setting"><i class="mdi mdi-settings"></i>Settings</a></li>
                <li><a href="/account/logout"><i class="mdi mdi-logout"></i>Logout</a></li>
              </ul>
            </label>
          </div>

        </div>
      </div>
    </nav>
  </header>


  <!-- Page Content -->
  <!-- Banner Starts Here -->
  <div class="heading-page header-text">
    <section class="page-heading">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="text-content">
              <h4>Blog King</h4>
              <h2>List Categories</h2>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <section class="blog-posts grid-system">
    <div class="container">
      <center>
        <div class="input-group" style="width: 500px;">
          <form id="search_form" method="GET" action="/admin/searchCategory">
            <input class="form-control border-end-0 border rounded-pill" type="text" name="search"
              id="example-search-input" autocomplete="on">
          </form>
          <span class="input-group-append">
            <button class="btn btn-outline-secondary bg-white border-bottom-0 border rounded-pill ms-n5" type="button">
              <i class="fa fa-search"></i>
            </button>
          </span>
          <a data-toggle="modal" data-target="#exampleModalCreate" class="btn btn-primary"
            style="background-color: rgb(19, 189, 19);margin-left:05px ;">Add New
            Category</a>
        </div>
         <div class="modal fade" id="exampleModalCreate" tabindex="-1" role="dialog"
                      aria-labelledby="exampleModalLabel" aria-hidden="true" style="margin-top: 6cm;">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Add New Category</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <form action="/admin/createCategory" method="POST" enctype="multipart/form-data">
                            <div class="modal-body">
                              <div class="row">
                                <div class="col-md-5">
                                  <div class="text-center">
                                    <img id="blah" src="" style="width: 200px; height: 200px;" class="avatar img-circle"
                                      alt="">
                                    <h6>Upload a different photo...</h6>

                                  </div>
                                </div>
                                <div class="col-md-7">
                                  <div class="wrap-input100 validate-input" data-validate="Name is required">
                                    <span class="label-input100">Name of category</span>
                                    <br>
                                    <input class="input100" type="text" name="name" placeholder="Name of category"
                                      style="width: 258px" required>
                                    <span class="focus-input100" data-symbol="&#xf190;"></span>
                                  </div>

                                  <div class="wrap-input100 validate-input" data-validate="Description is required">
                                    <span class="label-input100">Description</span>
                                    <br>
                                    <textarea type="text" name="description" placeholder="Description"
                                      style="height: 100px; width: 258px"></textarea>
                                    {{!-- <input class="input100" type="text" name="description"
                                      placeholder="Description" style="height: 100px; width: 258px"> --}}
                                    <span class="focus-input100" data-symbol="&#xf190;"></span>
                                  </div>
                                </div>
                                <input type="file" id="text" name="image" class="form-control" onchange="readURL(this);"
                                  required>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save changes</button>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
      </center>
      <hr>
      <div class="mt-4">
        <div class="row">
          {{#each category}}
          <div class="col-sm-6 col-lg-4">

            <div class="card" style="width: 18rem;">

              <img class="card-img-top" src="/upload/{{image}}" alt="">
              <div class="card-body">

                <h5 class="card-title"><a href="/admin/blogByCategory/{{_id}}">{{name}}</a></h5>
                <p class="card-text">{{description}}</p>
                <br>

                <div class="row">
                  <div class="col-sm-6">
                    <a class="btn btn-primary" style="float: right;"
                      href="/admin/editCategory/{{_id}}"><span class="fa fa-pencil"></span> Edit</a>
                   
                  </div>
                  <div class="col-sm-6">
                    <center>
                      <div class="text-center">
                        <button class="btn btn-danger" data-target="#exampleModal{{_id}}" data-toggle="modal"><span
                            class="fa fa-trash"></span> Delete</button>
                      </div>
                    </center>
                    <div id="exampleModal{{_id}}" class="modal fade" style="margin-top: 130px;">
                      <div class="modal-dialog modal-confirm">
                        <div class="modal-content">
                          <div class="modal-header flex-column">
                            <div class="icon-box">
                              <i class="material-icons">&#xE5CD;</i>
                            </div>
                            <h4 class="modal-title w-100">Are you sure?</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                          </div>
                          <div class="modal-body">
                          </div>
                          <div class="modal-footer justify-content-center">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <form action="/admin/deleteCategory" method="POST"
                              enctype="application/x-www-form-urlencoded">
                              <input type="hidden" name="_id" value={{_id}}>
                              <input type="hidden" name="_method" value="DELETE">
                              <button type="submit" class="btn btn-danger" style="float:left;">Delete</button>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>

            </div>

          </div>
          {{/each}}
        </div>
      </div>
    </div>


  </section>
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <ul class="social-icons">
            <li><a href="#">Facebook</a></li>
            <li><a href="#">Twitter</a></li>
            <li><a href="#">Behance</a></li>
            <li><a href="#">Linkedin</a></li>
            <li><a href="#">Dribbble</a></li>
          </ul>
        </div>
        <div class="col-lg-12">
          <div class="copyright-text">
            <p>Copyright 2021 by Chu Hieu</p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Additional Scripts -->
  <script src="/assets/js/custom.js"></script>
  <script src="/assets/js/owl.js"></script>
  <script src="/assets/js/slick.js"></script>
  <script src="/assets/js/isotope.js"></script>
  <script src="/assets/js/accordions.js"></script>

  <script language="text/Javascript">
    cleared[0] = cleared[1] = cleared[2] = 0; //set a cleared flag for each field
    function clearField(t) {                   //declaring the array outside of the
      if (!cleared[t.id]) {                      // function makes it static and global
        cleared[t.id] = 1;  // you could use true and false, but that's more typing
        t.value = '';         // with more chance of typos
        t.style.color = '#fff';
      }
    }
  </script>
  <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
          $('#blah')
            .attr('src', e.target.result);
        };

        reader.readAsDataURL(input.files[0]);
      }
    }
  </script>

</body>

</html>